Command - rpm
===============
레드햇사에서 만든 패키지 관리 기법으로 해당 명령어를 통해 갱신, 제거, 검증, 질의<br>
등의 관리를 진행할 수 있다. 해당 명령어는 아주 초기때부터 사용되는 명령어이므로<br>
옵션이 상당히 많다. 먼저 사용 형태를 알아보고 각 모드에 맞는 설명과 옵션 및 예시를 보겠다.

1. 명령어 사용 형태<br>
rpm [Option] [패키지_파일명]

2. 모드 및 옵션<br>
    <strong>2-1-1. 설치 및 업데이트 모드</strong><br>
    새로운 패키지를 설치하거나 업데이트를 할 수 있다.

    | Option | Document |
    |--------|----------|
    | -i     | 새로운 패키지를 설치할 때 사용한다. |
    | -U     | 기존의 패키지를 업데이트할 때 사용한다. 만약 업데이트를 하는 데,<br> 기존 패키지가 없을 경우 '-i' 옵션처럼 동작된다. |
    | -F     | 기존의 패키지가 설치되어 있는 경우에만 업데이트를 진행한다. |
    | -v     | 메세지를 자세히 보여준다. |
    | -vv    | 메세지를 '-v' 옵션보다 더 자세히 보여준다. |
    | -h     | 진행 상황을 '#' 기호로 표시한다. |
    | &#8208;&#8208;force | 기존 버전이 설치되었을 경우에도 강제로 설치할 때 사용한다. |
    | &#8208;&#8208;nodeps | 의존성 관계를 무시하고 설치한다. (기본적으로 rpm은 의존성 관계가<br>있는 패키지의 경우 의존성 관계가 있는 패키지가 없을 경우 설치하지<br>않지만, 해당 명령어를 통해 무시하여 진행할 수 있다. |
    
    2-1-2. 명령어 사용 예<br>
    - rpm -i gftp-2.0.19-fc15.i686.rpm<br>
    해당 패키지를 설치한다.
    - rpm -Uvh vsftpd-2.2.2-11.el6_4.1.i686.rpm<br>
    해당 패키지에 설치하며, 해당 패키지가 없는 경우 설치를 진행한다.
    - rpm -Fvh /usr/local/src/*.rpm<br>
    "/usr/local/src"에 존재하는 모든 RPM 패키지에 대해 업데이트를 진행하며,<br>
    설치되지 않은 패키지는 업데이트를 진행하지 않는다.

    <strong>2-2-1. 제거 모드</strong><br>
    설치된 패키지를 제거한다.
    
    | Option | Document |
    |--------|----------|
    | -e     | 설치된 패키지를 삭제하며, 의존성을 갖는 패키지가 있는 경우 삭제되지 않는다. |
    | &#8208;&#8208;nodeps     | 의존성을 갖는 패키지가 존재하는 경우에도 삭제한다. |
    
    2-2-2. 명령어 사용 예<br>
    - rpm -e <br>
    ego라는 패키지를 삭제하며, 의존성이 있는 패키지가 존재하면 삭제하지 않는다.
    - rpm -e --nodeps httpd<br>
    httpd 패키지를 제거하는데 의존성이 있는 패키지가 있어도 제거한다.
    
    <strong>2-3-1. 질의 모드</strong><br>
    패키지 관련 정보를 알아내기 위해 사용한다. 보통 '-q' 옵션을 사용하고 추가적으로<br>
    다른 옵션과 함께 사용하여 질의를 수행한다.

    | Option | Document |
    |--------|----------|
    | -q     | 질의 시 꼭 사용해야하는 옵션이다. 패키지를 찾으면 패키지 이름과 버전을<br>출력한다.|
    | -i     | 설치된 패키지의 정보를 출력한다.|
    | -l     | 패키지에서 설치한 모든 파일 정보를 출력한다. |
    | -a     | 시스템에 설치된 모든 패키지목록을 출력한다. |
    | -p [패키지_파일명]     | rpm 패키지의 파일에 대한 정보를 보여준다. |
    | -f [파일명]     | 지정한 파일을 설치한 패키지 이름을 출력한다. |
    | -c     | 해당 패키지의 설정 파일이나 스크립트 파일을 출력한다. |
    | -R     | 어떤 패키지에 의존하고 있는지를 보여준다. 즉, 해당 패키지가 설치되거나<br>동작 시에 필요한 패키지 목록을 보여준다. |
    | &#8208;&#8208;scripts     | 설치 및 제거 관련 스크립트를 보여준다. |
    
    2-3-2. 명령어 사용 예<br>
    - rpm -qa<br>
    시스템에 설치된 모든 패키지 정보를 출력한다.
    - rpm -qa | grep mail<br>
    시스템에 설치된 모든 패키지 중에 "mail"이라는 문자열이 들어있는 패키지를 출력한다.
    - rpm -qi sendmail<br>
    "sendmail" 패키지에 대한 정보를 출력한다.
    - rpm -ql sendmail<br>
    "sendmail" 패키지가 설치한 파일 목록을 출력한다.
    - rpm -qc sendmail<br>
    "sendmail" 패키지 관련 환경 설정파일이나 실행 데몬 스크립트를 출력한다.
    - rpm -qf /bin/ls<br>
    "/bin/ls" 파일을 설치한 패키지 정보를 출력한다.
    - rpm -qR sendmail<br>
    "sendmail" 패키지가 의존하고 있는 패키지 정보를 출력한다.
    - rpm -q --scripts sendmail<br>
    "sendmail"의 Install 그리고 Uninstall 관련 스크립트를 보여준다.
    - rpm -qip totem-2.28.6-2.el6.i686.rpm<br>
    해당 파일에 대한 정보를 출력한다.
    - rpm -qlp totem-2.28.6-2.el6.i686.rpm<br>
    해당 파일에서 설치되는 파일 목록 정보를 출력한다.
    
    <strong>2-4-1. 검증 모드</strong><br>
    rpm 데이터베이스에 저장되어 있는 패키지의 메타데이터 정보를 이용하여 변경된 정보를<br>
    찾아내는 모드이다. 한 마디로 무결성 검사라는 느낌으로 봐도 된다.
    
    | Option | Document |
    |--------|----------|
    | -V     | 검증 시 사용하는 기본 옵션이다. |
    | -a     | 모든 패키지를 검사할 때 사용한다. |
    
    2-4-2. 명령어 사용 예<br>
    - rpm -Va<br>
    시스템에 설치된 모든 패키지에 대해서 검증을 진행한다.
    - rpm -V vsftpd<br>
    "vsftpd" 패키지에 대해 검증을 진행한다.
    
    <strong>2-5-1. Rebuild 모드</strong><br>
    rpm 소스 파일인 ".src.rpm" 파일을 패키지 파일로 만드는 모드로서 "rpmbuild"라는<br>
    명령어를 사용한다.
    
    2-5-2. 명령어 사용 형태<br>
    - rpmbuild [option] [Source Package Name(Path)]
    
    | Option | Document |
    |--------|----------|
    | &#8208;&#8208;rebuild     | 소스 rpm 파일을 이용해서 rpm 패키지를 생성할 때 사용한다. |
    
    2-5-3. 명령어 사용 예<br>
    - rpmbuild &#8208;&#8208;rebuild gftp-2.0.19-8.fc18.src.rpm<br>
    root가 실행했을 경우 /root/rpmbuild 디렉터리 안에 생성한다. 만약 x86_64 기반에서<br>
    리빌드를 진행한 경우 /root/rpmbuild/RPMS/x86_64 디렉터리에 생성된다.

3. 알아둘 점<br>
    - 해당 명령어는 옵션만 해도 수 십가지이다. 그러므로 해당 표에 있는 부분들만<br>
    잘 보고 "man" 명령어를 잘 활용한다면 손 쉽게 넘어갈 수 있으니 꼭 인지하자.